<div class="register-container">
  <header>
    <h1>Inscription</h1>
  </header>

  <form
    [formGroup]="registerForm"
    (ngSubmit)="onSubmit()"
    aria-label="Formulaire d'inscription"
  >
    <div class="form-group">
      <label for="name"
        >Nom d'utilisateur <span class="required">*</span></label
      >
      <input
        id="name"
        type="text"
        formControlName="name"
        autocomplete="username"
        aria-required="true"
        [attr.aria-invalid]="
          registerForm.get('name')?.invalid && registerForm.get('name')?.touched
        "
      />
    </div>

    <div class="form-group">
      <label for="email">Adresse e-mail <span class="required">*</span></label>
      <input
        id="email"
        type="email"
        formControlName="email"
        autocomplete="email"
        aria-required="true"
        [attr.aria-invalid]="
          registerForm.get('email')?.invalid &&
          registerForm.get('email')?.touched
        "
      />
      @if (
        registerForm.get("email")?.errors?.["email"] &&
        registerForm.get("email")?.touched
      ) {
        <span class="error-msg"
          >Veuillez saisir une adresse e-mail valide.</span
        >
      }
    </div>

    <div class="form-group">
      <label for="password">Mot de passe <span class="required">*</span></label>
      <input
        id="password"
        type="password"
        formControlName="password"
        autocomplete="new-password"
        aria-required="true"
        [attr.aria-invalid]="
          registerForm.get('password')?.invalid &&
          registerForm.get('password')?.touched
        "
      />
      @if (
        registerForm.get("password")?.invalid &&
        registerForm.get("password")?.touched
      ) {
        <span class="error-msg">
          Le mot de passe doit comporter 8 caractères minimum, une majuscule,
          une minuscule, un chiffre et un caractère spécial.
        </span>
      }
    </div>

    <button
      type="submit"
      [disabled]="registerForm.invalid"
      class="btn-submit"
      aria-label="Créer mon compte"
    >
      S'inscrire
    </button>
  </form>

  <nav class="auth-links" aria-label="Liens alternatifs d'authentification">
    <p>
      Déjà un compte ?
      <a routerLink="/login" aria-label="Aller vers la page de connexion"
        >Se connecter</a
      >
    </p>
  </nav>
</div>
