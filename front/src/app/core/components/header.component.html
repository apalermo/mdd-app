<header class="main-header" role="banner">
  <div class="logo-container">
    <a
      [routerLink]="
        sessionService.isLogged() && showNavigation() ? '/articles' : '/'
      "
      (click)="closeMenu()"
      aria-label="Retour Ã  l'accueil"
    >
      <img src="logo.png" alt="MDD Logo" class="logo" />
    </a>
  </div>

  @if (sessionService.isLogged() && showNavigation()) {

  <button
    #burgerBtn
    class="burger-btn"
    (click)="toggleMobileMenu()"
    [attr.aria-expanded]="isMobileMenuOpen()"
    aria-controls="main-navigation"
    aria-label="Menu principal"
  >
    <span class="bar" aria-hidden="true"></span>
    <span class="bar" aria-hidden="true"></span>
    <span class="bar" aria-hidden="true"></span>
  </button>

  <nav
    #navContainer
    id="main-navigation"
    class="navigation"
    [class.active]="isMobileMenuOpen()"
    aria-label="Navigation principale"
  >
    <ul class="nav-list">
      @for (link of navLinks; track link.label) {
      <li class="nav-item">
        <a
          [routerLink]="link.url"
          routerLinkActive="active-link"
          (click)="closeMenu()"
        >
          {{ link.label }}
        </a>
      </li>
      }

      <li class="nav-item profile-item">
        <a
          routerLink="/me"
          routerLinkActive="active-link"
          (click)="closeMenu()"
          aria-label="AccÃ©der Ã  mon profil"
        >
          <span class="profile-text">Profil</span>
          <span class="user-icon-wrapper" aria-hidden="true">ðŸ‘¤</span>
        </a>
      </li>

      <li class="nav-item logout-item">
        <button
          type="button"
          class="logout-link-btn"
          (click)="logOut()"
          aria-label="Se dÃ©connecter de l'application"
        >
          Se dÃ©connecter
        </button>
      </li>
    </ul>
  </nav>

  @if (isMobileMenuOpen()) {
  <div class="overlay" (click)="closeMenu()" aria-hidden="true"></div>
  } }
</header>
